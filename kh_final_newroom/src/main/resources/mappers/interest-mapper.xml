<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="interest">
	
<insert id="setInterest" parameterType="InterestDto">
	insert into interest (userid, inum) values (#{userid}, #{no})
</insert>

<delete id="deleteInterest" parameterType="InterestDto">
	delete from interest where userid = #{userid} and inum = 2
</delete>

<select id="getInterest" parameterType="String" resultType="InterestDto">
	select i.userid, i.inum, d.area, d.floor, d.dealAmount, f.AptName, f.img
	from housedeal d JOIN interest i on d.hdnum = i.inum JOIN houseinfo f on d.hdnum = f.housenum
	where i.userid = #{userid}
</select>

<select id="chkInterest" parameterType="InterestDto" resultType="InterestDto">
	select * from interest where userid = #{userid} and inum = #{no}
</select>

<!-- <resultMap type="InterestDto" id="rrr"> -->
<!-- 	<result property="no" column="no"/> -->
<!-- 	<result property="area" column="area"/> -->
<!-- 	<result property="floor" column="floor"/> -->
<!-- 	<result property="dealAmount" column="dealAmount"/> -->
<!-- 	<result property="aptName" column="aptName"/> -->
<!-- 	<result property="img" column="img"/> -->
<!-- </resultMap> -->
</mapper>